<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://cdn.tailwindcss.com"></script>

        <title>CareLinc - Login</title>
    </head>
    <body class="w-screen h-screen flex flex-col">
        <!-- Navigation Bar -->
        <header class="z-[1000] bg-primary flex flex-row px-5 py-3 text-white items-center">
            <a class="text-2xl font-bold">CareLinc</a>
            <nav class="ml-auto flex flex-row gap-5 items-center">
                <a class="text-xl" href="../credits.html">Credits</a>
                <button class="text-xl bg-btnprimary px-4 py-2">
                    Login
                </button>
            </nav>
        </header>

        <form id='popupVerify' style="display:none;" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center">
            <div class="w-full max-w-md p-4">
              <div class="bg-white border border-gray-200 rounded-md shadow-sm">
                <div class="px-6 py-4">
                  <h2 class="text-lg font-semibold m-0">Verify it's you</h2>
                  <p class="mt-1 text-sm text-gray-600">
                    Enter the 6-digit code from your authenticator app. <br /> This helps protect your account.
                  </p>
                </div>
                <div class="px-6 py-4 flex flex-col gap-4">
                  <div>
                    <label for="auth-code" class="block text-sm font-medium text-gray-600">
                      Two-factor authentication code
                    </label>
                    <div class="mt-1 flex w-full max-w-md gap-2">
                      <input 
                        type="text" 
                        id="tokenVerify" 
                        value="" 
                        onChange="(e) => setCode(e.target.value)" 
                        class="flex-1 p-2 border border-gray-200 rounded-md text-field"
                      />
                      <button class="bg-gray-800 text-white p-2 rounded-md border-none cursor-pointer transition-colors duration-150 hover:bg-gray-900">
                        Verify
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </form>
          
  
          <form id='popup' style="display:none">
            <div class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4">
              <div class="bg-white w-full max-w-lg mx-auto p-8 border border-gray-200 rounded-lg shadow-lg overflow-y-auto max-h-[80vh]">
                  <div class="space-y-4">
                  <p class="text-lg font-semibold mb-4">
                    Scan the QR code with your authenticator app.
                  </p>
                  <img id='qrcode' src="https://storage.gignite.ai/mediaengine/model1/ecc9d0f3-a389-4c0b-81d0-c61f3a48a23f.png" alt="Two-factor authentication QR code" class="mx-auto" />
                  <ol class="list-decimal pl-5 space-y-2">
                    <li>
                      Download and install an authenticator app on your mobile device, if you haven't
                      already. We recommend <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2" class="text-blue-500 hover:text-blue-700">Google Authenticator for Android</a> or <a href="https://apps.apple.com/app/authenticator/id529443007" class="text-blue-500 hover:text-blue-700">Microsoft Authenticator for iOS</a>.
                    </li>
                    <li>Open your authenticator app and scan the QR code displayed above.</li>
                    <li>Enter the 6-digit code generated by your authenticator app to verify 2FA setup.</li>
                  </ol>
                  <div class="border border-gray-200 rounded-lg p-4">
                    <div class="flex gap-4">
                      <input type="text" id="token" placeholder="123 456" class="w-1/2 p-2 border border-gray-200 rounded" />
                      <button type="submit" class="bg-blue-600 text-white p-2 flex items-center gap-2 rounded cursor-pointer transition-colors duration-200 hover:bg-blue-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 11l3 3L22 4"></path><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h11"></path></svg> Verify
                      </button>
                    </div>
                  </div>
                  <div id="error" style="display:none" class="space-y-2 bg-red-100 border border-red-200 p-4 rounded-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.857L1.821 18a1.361 1.361 0 0 0 1.179 2h18a1.361 1.361 0 0 0 1.179-2L13.71 3.857a1.361 1.361 0 0 0-2.418 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg> 
                    <div class="font-bold">Error</div>
                    <div>The two-factor authentication code you provided is not valid. Please try again.</div>
                  </div>
                  <div id="success" style="display:none" class="space-y-2 bg-green-100 border border-green-200 p-4 rounded-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 11l3 3L22 4"></path><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h11"></path></svg> 
                    <div class="font-bold">Two-Factor Authentication Successfully Enabled!</div>
                    <div>
                      Your account is now protected by 2FA. You will need to use your authenticator app in
                      addition to your password to sign in.
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </form>

        <!-- Main Content -->
        <div class="p-8">
            <h2 class="text-center text-3xl font-bold mb-6">Login</h2>
            <form id="login-form">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="email">
                        Email:
                    </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="email" type="text" placeholder="john@doe.com" required>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="password">
                        Password:
                    </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline" id="password" type="password" placeholder="******************" required>
                </div>
                <div class="flex items-center justify-between">
                    <button class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
                        Login
                    </button>
                    <a id="error-text" class="text-red-900"></a>
                </div>
                <p class="mt-4 text-center text-sm text-gray-600">
                    Don't have an account? <a href="./signup.html" class="text-blue-500 hover:text-blue-700">Create one</a>
                </p>
            </form>
        </div>
    </body>

    <script src="scripts/tailwind.config.js"></script>
    <script src="scripts/login.js"></script>
</html>